(function(e,V){typeof exports=="object"&&typeof module<"u"?module.exports=V(require("vue")):typeof define=="function"&&define.amd?define(["vue"],V):(e=typeof globalThis<"u"?globalThis:e||self,e.AtticDatepicker=V(e.Vue))})(this,function(e){"use strict";var Pe=Object.defineProperty;var qe=(e,V,T)=>V in e?Pe(e,V,{enumerable:!0,configurable:!0,writable:!0,value:T}):e[V]=T;var v=(e,V,T)=>(qe(e,typeof V!="symbol"?V+"":V,T),T);var __vite_style__=document.createElement("style");__vite_style__.innerHTML=`@media (min-width: 768px){.attic-datepicker-calendar:before{--attic-datepicker-calendar: 0px;content:"";position:absolute;top:0;height:1rem;width:1rem;border-width:1px;border-color:#0000001a;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);transform:translate(50%,-50%) rotate(-45deg);-webkit-clip-path:polygon(calc(var(--attic-datepicker-calendar) * -1) calc(var(--attic-datepicker-calendar) * -1),calc(100% + var(--attic-datepicker-calendar)) calc(var(--attic-datepicker-calendar) * -1),calc(100% + var(--attic-datepicker-calendar)) calc(100% + var(--attic-datepicker-calendar)));clip-path:polygon(calc(var(--attic-datepicker-calendar) * -1) calc(var(--attic-datepicker-calendar) * -1),calc(100% + var(--attic-datepicker-calendar)) calc(var(--attic-datepicker-calendar) * -1),calc(100% + var(--attic-datepicker-calendar)) calc(100% + var(--attic-datepicker-calendar)))}.attic-datepicker-calendar.place-left:before{left:2rem}.attic-datepicker-calendar.place-right:before{right:1.25rem}}
`;document.head.appendChild(__vite_style__);const V=n=>{const a=[];for(let r=0;r<=n.date(0).day();r++)a.push(n.date(0).subtract(r,"day"));return a.sort((r,t)=>r.date()-t.date())},T=n=>Array.from({length:n.daysInMonth()},(a,r)=>n.date(r+1)),te=n=>{const{instance:a,arg:r,value:t}=n;document.body.addEventListener("click",d=>{if(a.$el.contains(d.target))return a.showCalendar=!0;a.showCalendar=a.$el.contains(d.target)||document.getElementById(t)===d.target||t===d.target})};var J=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ae={exports:{}};(function(n,a){(function(r,t){n.exports=t()})(J,function(){var r=1e3,t=6e4,d=36e5,b="millisecond",o="second",f="minute",k="hour",_="day",B="week",c="month",p="quarter",E="year",C="date",H="Invalid Date",R=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,q=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,G={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},I=function(D,l,s){var h=String(D);return!h||h.length>=l?D:""+Array(l+1-h.length).join(s)+D},Q={s:I,z:function(D){var l=-D.utcOffset(),s=Math.abs(l),h=Math.floor(s/60),i=s%60;return(l<=0?"+":"-")+I(h,2,"0")+":"+I(i,2,"0")},m:function D(l,s){if(l.date()<s.date())return-D(s,l);var h=12*(s.year()-l.year())+(s.month()-l.month()),i=l.clone().add(h,c),m=s-i<0,u=l.clone().add(h+(m?-1:1),c);return+(-(h+(s-i)/(m?i-u:u-i))||0)},a:function(D){return D<0?Math.ceil(D)||0:Math.floor(D)},p:function(D){return{M:c,y:E,w:B,d:_,D:C,h:k,m:f,s:o,ms:b,Q:p}[D]||String(D||"").toLowerCase().replace(/s$/,"")},u:function(D){return D===void 0}},O="en",A={};A[O]=G;var K=function(D){return D instanceof Z},X=function D(l,s,h){var i;if(!l)return O;if(typeof l=="string"){var m=l.toLowerCase();A[m]&&(i=m),s&&(A[m]=s,i=m);var u=l.split("-");if(!i&&u.length>1)return D(u[0])}else{var g=l.name;A[g]=l,i=g}return!h&&i&&(O=i),i||!h&&O},$=function(D,l){if(K(D))return D.clone();var s=typeof l=="object"?l:{};return s.date=D,s.args=arguments,new Z(s)},w=Q;w.l=X,w.i=K,w.w=function(D,l){return $(D,{locale:l.$L,utc:l.$u,x:l.$x,$offset:l.$offset})};var Z=function(){function D(s){this.$L=X(s.locale,null,!0),this.parse(s)}var l=D.prototype;return l.parse=function(s){this.$d=function(h){var i=h.date,m=h.utc;if(i===null)return new Date(NaN);if(w.u(i))return new Date;if(i instanceof Date)return new Date(i);if(typeof i=="string"&&!/Z$/i.test(i)){var u=i.match(R);if(u){var g=u[2]-1||0,Y=(u[7]||"0").substring(0,3);return m?new Date(Date.UTC(u[1],g,u[3]||1,u[4]||0,u[5]||0,u[6]||0,Y)):new Date(u[1],g,u[3]||1,u[4]||0,u[5]||0,u[6]||0,Y)}}return new Date(i)}(s),this.$x=s.x||{},this.init()},l.init=function(){var s=this.$d;this.$y=s.getFullYear(),this.$M=s.getMonth(),this.$D=s.getDate(),this.$W=s.getDay(),this.$H=s.getHours(),this.$m=s.getMinutes(),this.$s=s.getSeconds(),this.$ms=s.getMilliseconds()},l.$utils=function(){return w},l.isValid=function(){return this.$d.toString()!==H},l.isSame=function(s,h){var i=$(s);return this.startOf(h)<=i&&i<=this.endOf(h)},l.isAfter=function(s,h){return $(s)<this.startOf(h)},l.isBefore=function(s,h){return this.endOf(h)<$(s)},l.$g=function(s,h,i){return w.u(s)?this[h]:this.set(i,s)},l.unix=function(){return Math.floor(this.valueOf()/1e3)},l.valueOf=function(){return this.$d.getTime()},l.startOf=function(s,h){var i=this,m=!!w.u(h)||h,u=w.p(s),g=function(z,S){var L=w.w(i.$u?Date.UTC(i.$y,S,z):new Date(i.$y,S,z),i);return m?L:L.endOf(_)},Y=function(z,S){return w.w(i.toDate()[z].apply(i.toDate("s"),(m?[0,0,0,0]:[23,59,59,999]).slice(S)),i)},M=this.$W,x=this.$M,j=this.$D,N="set"+(this.$u?"UTC":"");switch(u){case E:return m?g(1,0):g(31,11);case c:return m?g(1,x):g(0,x+1);case B:var F=this.$locale().weekStart||0,U=(M<F?M+7:M)-F;return g(m?j-U:j+(6-U),x);case _:case C:return Y(N+"Hours",0);case k:return Y(N+"Minutes",1);case f:return Y(N+"Seconds",2);case o:return Y(N+"Milliseconds",3);default:return this.clone()}},l.endOf=function(s){return this.startOf(s,!1)},l.$set=function(s,h){var i,m=w.p(s),u="set"+(this.$u?"UTC":""),g=(i={},i[_]=u+"Date",i[C]=u+"Date",i[c]=u+"Month",i[E]=u+"FullYear",i[k]=u+"Hours",i[f]=u+"Minutes",i[o]=u+"Seconds",i[b]=u+"Milliseconds",i)[m],Y=m===_?this.$D+(h-this.$W):h;if(m===c||m===E){var M=this.clone().set(C,1);M.$d[g](Y),M.init(),this.$d=M.set(C,Math.min(this.$D,M.daysInMonth())).$d}else g&&this.$d[g](Y);return this.init(),this},l.set=function(s,h){return this.clone().$set(s,h)},l.get=function(s){return this[w.p(s)]()},l.add=function(s,h){var i,m=this;s=Number(s);var u=w.p(h),g=function(x){var j=$(m);return w.w(j.date(j.date()+Math.round(x*s)),m)};if(u===c)return this.set(c,this.$M+s);if(u===E)return this.set(E,this.$y+s);if(u===_)return g(1);if(u===B)return g(7);var Y=(i={},i[f]=t,i[k]=d,i[o]=r,i)[u]||1,M=this.$d.getTime()+s*Y;return w.w(M,this)},l.subtract=function(s,h){return this.add(-1*s,h)},l.format=function(s){var h=this,i=this.$locale();if(!this.isValid())return i.invalidDate||H;var m=s||"YYYY-MM-DDTHH:mm:ssZ",u=w.z(this),g=this.$H,Y=this.$m,M=this.$M,x=i.weekdays,j=i.months,N=function(S,L,ee,P){return S&&(S[L]||S(h,m))||ee[L].slice(0,P)},F=function(S){return w.s(g%12||12,S,"0")},U=i.meridiem||function(S,L,ee){var P=S<12?"AM":"PM";return ee?P.toLowerCase():P},z={YY:String(this.$y).slice(-2),YYYY:this.$y,M:M+1,MM:w.s(M+1,2,"0"),MMM:N(i.monthsShort,M,j,3),MMMM:N(j,M),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:N(i.weekdaysMin,this.$W,x,2),ddd:N(i.weekdaysShort,this.$W,x,3),dddd:x[this.$W],H:String(g),HH:w.s(g,2,"0"),h:F(1),hh:F(2),a:U(g,Y,!0),A:U(g,Y,!1),m:String(Y),mm:w.s(Y,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:u};return m.replace(q,function(S,L){return L||z[S]||u.replace(":","")})},l.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},l.diff=function(s,h,i){var m,u=w.p(h),g=$(s),Y=(g.utcOffset()-this.utcOffset())*t,M=this-g,x=w.m(this,g);return x=(m={},m[E]=x/12,m[c]=x,m[p]=x/3,m[B]=(M-Y)/6048e5,m[_]=(M-Y)/864e5,m[k]=M/d,m[f]=M/t,m[o]=M/r,m)[u]||M,i?x:w.a(x)},l.daysInMonth=function(){return this.endOf(c).$D},l.$locale=function(){return A[this.$L]},l.locale=function(s,h){if(!s)return this.$L;var i=this.clone(),m=X(s,h,!0);return m&&(i.$L=m),i},l.clone=function(){return w.w(this.$d,this)},l.toDate=function(){return new Date(this.valueOf())},l.toJSON=function(){return this.isValid()?this.toISOString():null},l.toISOString=function(){return this.$d.toISOString()},l.toString=function(){return this.$d.toUTCString()},D}(),fe=Z.prototype;return $.prototype=fe,[["$ms",b],["$s",o],["$m",f],["$H",k],["$W",_],["$M",c],["$y",E],["$D",C]].forEach(function(D){fe[D[1]]=function(l){return this.$g(l,D[0],D[1])}}),$.extend=function(D,l){return D.$i||(D(l,Z,$),D.$i=!0),$},$.locale=X,$.isDayjs=K,$.unix=function(D){return $(1e3*D)},$.en=A[O],$.Ls=A,$.p={},$})})(ae);const y=ae.exports;var ne={exports:{}};(function(n,a){(function(r,t){n.exports=t()})(J,function(){return function(r,t,d){var b=t.prototype,o=function(c){return c&&(c.indexOf?c:c.s)},f=function(c,p,E,C,H){var R=c.name?c:c.$locale(),q=o(R[p]),G=o(R[E]),I=q||G.map(function(O){return O.slice(0,C)});if(!H)return I;var Q=R.weekStart;return I.map(function(O,A){return I[(A+(Q||0))%7]})},k=function(){return d.Ls[d.locale()]},_=function(c,p){return c.formats[p]||function(E){return E.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(C,H,R){return H||R.slice(1)})}(c.formats[p.toUpperCase()])},B=function(){var c=this;return{months:function(p){return p?p.format("MMMM"):f(c,"months")},monthsShort:function(p){return p?p.format("MMM"):f(c,"monthsShort","months",3)},firstDayOfWeek:function(){return c.$locale().weekStart||0},weekdays:function(p){return p?p.format("dddd"):f(c,"weekdays")},weekdaysMin:function(p){return p?p.format("dd"):f(c,"weekdaysMin","weekdays",2)},weekdaysShort:function(p){return p?p.format("ddd"):f(c,"weekdaysShort","weekdays",3)},longDateFormat:function(p){return _(c.$locale(),p)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};b.localeData=function(){return B.bind(this)()},d.localeData=function(){var c=k();return{firstDayOfWeek:function(){return c.weekStart||0},weekdays:function(){return d.weekdays()},weekdaysShort:function(){return d.weekdaysShort()},weekdaysMin:function(){return d.weekdaysMin()},months:function(){return d.months()},monthsShort:function(){return d.monthsShort()},longDateFormat:function(p){return _(c,p)},meridiem:c.meridiem,ordinal:c.ordinal}},d.months=function(){return f(k(),"months")},d.monthsShort=function(){return f(k(),"monthsShort","months",3)},d.weekdays=function(c){return f(k(),"weekdays",null,null,c)},d.weekdaysShort=function(c){return f(k(),"weekdaysShort","weekdays",3,c)},d.weekdaysMin=function(c){return f(k(),"weekdaysMin","weekdays",2,c)}}})})(ne);const he=ne.exports;var re={exports:{}};(function(n,a){(function(r,t){n.exports=t()})(J,function(){return function(r,t){t.prototype.weekday=function(d){var b=this.$locale().weekStart||0,o=this.$W,f=(o<b?o+7:o)-b;return this.$utils().u(d)?f:this.subtract(f,"day").add(d,"day")}}})})(re);const ue=re.exports;var se={exports:{}};(function(n,a){(function(r,t){n.exports=t()})(J,function(){return function(r,t,d){t.prototype.isBetween=function(b,o,f,k){var _=d(b),B=d(o),c=(k=k||"()")[0]==="(",p=k[1]===")";return(c?this.isAfter(_,f):!this.isBefore(_,f))&&(p?this.isBefore(B,f):!this.isAfter(B,f))||(c?this.isBefore(_,f):!this.isAfter(_,f))&&(p?this.isAfter(B,f):!this.isBefore(B,f))}}})})(se);const me=se.exports,De=()=>({calendar:e.computed(()=>({monthView:{date:a=>V(a).concat(T(a))}}))}),W=(n,a)=>{const r=n.__vccOpts||n;for(const[t,d]of a)r[t]=d;return r},pe={name:"YearCalendar",setup(n,{emit:a}){const r=e.inject("atticDatepicker"),t=e.inject("calendarView");return{years:e.computed(()=>{const o=[];for(let f=0;f<=r.endYear-r.startYear;f++)o.push(r.startYear+f);return o.reverse()}),selectYear:o=>{t.value.date.value=t.value.date.value.year(o),a("changeView","dates")},dayjs:y}}},ge={class:"flex-1"},we={class:"max-h-72 max-w-sm overflow-y-auto space-y-5 font-bold text-sm"},ye=["onClick"];function ke(n,a,r,t,d,b){return e.openBlock(),e.createElementBlock("div",ge,[e.createElementVNode("div",we,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.years,o=>(e.openBlock(),e.createElementBlock("button",{type:"button",class:"w-full hover:bg-attic-thirdly rounded-xl py-3 hover:text-white",onClick:f=>t.selectYear(o)},e.toDisplayString(o),9,ye))),256))])])}const ie=W(pe,[["render",ke]]),be={name:"MonthsCalendar",setup(n,{emit:a}){e.inject("atticDatepicker");const r=e.inject("calendarView");return{selectMonth:d=>{r.value.date.value=r.value.date.value.month(d),a("changeView","dates")},dayjs:y}}},Me={class:"flex-1"},Ye={class:"grid grid-cols-2 gap-3 font-bold text-sm w-full"},_e=["onClick"];function $e(n,a,r,t,d,b){return e.openBlock(),e.createElementBlock("div",Me,[e.createElementVNode("div",Ye,[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(12,o=>e.createElementVNode("button",{type:"button",class:"rounded-xl py-3 hover:bg-attic-thirdly hover:text-white px-2",onClick:f=>t.selectMonth(o-1)},e.toDisplayString(t.dayjs().month(o-1).format("MMMM")),9,_e)),64))])])}const oe=W(be,[["render",$e]]),xe={name:"MonthCalendar",setup(n,{emit:a}){const r=e.inject("calendarView"),t=e.inject("atticDatepicker"),d=e.inject("showCalendar"),b=e.inject("monthDays"),o=e.inject("date");return{atticDatepicker:t,calendarView:r,isSameMonth:c=>c.isSame(o.value.format("YYYY-MM"),"month"),isInBetweenRange:c=>t.isRange&&t.selectedDate.value&&t.selectedEndDate.value&&c.isBetween(t.selectedDate.value,t.selectedEndDate.value),isSelectedDay:c=>t.selectedDate.value&&t.selectedDate.value.isSame(c)||t.selectedEndDate.value&&t.selectedEndDate.value.isSame(c),dayjs:y,monthDays:b,date:o,selectDate:c=>{t.isDisabledDate(c)||(t.selectDate(c),d.value=!t.ableToClose())}}}},ve={class:"flex-1 flex"},Se=[e.createElementVNode("svg",{class:"w-3",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 444.531 444.531","xml:space":"preserve"},[e.createElementVNode("g",null,[e.createElementVNode("path",{d:`M213.13,222.409L351.88,83.653c7.05-7.043,10.567-15.657,10.567-25.841c0-10.183-3.518-18.793-10.567-25.835
                          l-21.409-21.416C323.432,3.521,314.817,0,304.637,0s-18.791,3.521-25.841,10.561L92.649,196.425
                          c-7.044,7.043-10.566,15.656-10.566,25.841s3.521,18.791,10.566,25.837l186.146,185.864c7.05,7.043,15.66,10.564,25.841,10.564
                          s18.795-3.521,25.834-10.564l21.409-21.412c7.05-7.039,10.567-15.604,10.567-25.697c0-10.085-3.518-18.746-10.567-25.978
                          L213.13,222.409z`})])],-1)],Ve={class:"space-y-5"},Be={class:"text-center font-bold"},Ee={class:"grid grid-cols-7"},Ce={class:"font-semibold text-sm text-gray-400 text-center"},Ae={key:0},Ne=["onClick"],Oe={key:1,class:"h-full w-full bg-gray-100 absolute z-0"},je=[e.createElementVNode("svg",{class:"w-3",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 444.531 444.531","xml:space":"preserve"},[e.createElementVNode("g",null,[e.createElementVNode("path",{d:`M352.025,196.712L165.884,10.848C159.029,3.615,150.469,0,140.187,0c-10.282,0-18.842,3.619-25.697,10.848L92.792,32.264
                    c-7.044,7.043-10.566,15.604-10.566,25.692c0,9.897,3.521,18.56,10.566,25.981l138.753,138.473L92.786,361.168
                    c-7.042,7.043-10.564,15.604-10.564,25.693c0,9.896,3.521,18.562,10.564,25.98l21.7,21.413
                    c7.043,7.043,15.612,10.564,25.697,10.564c10.089,0,18.656-3.521,25.697-10.564l186.145-185.864
                    c7.046-7.423,10.571-16.084,10.571-25.981C362.597,212.321,359.071,203.755,352.025,196.712z`})])],-1)];function Le(n,a,r,t,d,b){return e.openBlock(),e.createElementBlock("div",ve,[e.createElementVNode("button",{type:"button",onClick:a[0]||(a[0]=o=>t.calendarView.subtractMonth()),class:"w-10 h-10 hover:bg-gray-100 rounded-full flex items-center justify-center"},Se),e.createElementVNode("div",Ve,[e.createElementVNode("h2",Be,[e.createElementVNode("span",{class:"hover:bg-attic-secondary hover:text-white p-2 rounded-lg cursor-pointer",onClick:a[1]||(a[1]=o=>n.$emit("changeView","months"))},e.toDisplayString(t.date.format("MMMM")),1),e.createElementVNode("span",{class:"hover:bg-attic-secondary hover:text-white p-2 rounded-lg cursor-pointer",onClick:a[2]||(a[2]=o=>n.$emit("changeView","years"))},e.toDisplayString(t.date.format("YYYY")),1)]),e.createElementVNode("div",Ee,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.dayjs.weekdaysMin(),o=>(e.openBlock(),e.createElementBlock("div",Ce,e.toDisplayString(o),1))),256)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.monthDays,o=>(e.openBlock(),e.createElementBlock("div",null,[t.isSameMonth(o)?(e.openBlock(),e.createElementBlock("div",Ae,[e.createElementVNode("div",{class:"mx-auto border-primary cursor-pointer font-bold text-sm relative",onClick:f=>t.selectDate(o)},[t.atticDatepicker.isRange&&t.isSelectedDay(o)&&t.atticDatepicker.selectedDate.value&&t.atticDatepicker.selectedEndDate.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(["h-full w-1/2 bg-gray-100 absolute z-0",[{"right-0":t.atticDatepicker.isRange&&t.atticDatepicker.selectedDate.value&&t.atticDatepicker.selectedDate.value.isSame(o)},{"left-0":t.atticDatepicker.isRange&&t.atticDatepicker.selectedEndDate.value&&t.atticDatepicker.selectedEndDate.value.isSame(o)}]])},null,2)):e.createCommentVNode("",!0),t.isInBetweenRange(o)?(e.openBlock(),e.createElementBlock("div",Oe)):e.createCommentVNode("",!0),e.createElementVNode("span",{class:e.normalizeClass(["z-10 block relative text-center align-middle hover:rounded-full block w-12 h-12 text-center align-middle flex items-center justify-center",[{"bg-attic-primary text-white rounded-full":t.isSelectedDay(o)},{"hover:bg-gray-200":!t.isSelectedDay(o)},{"cursor-not-allowed text-gray-200":t.atticDatepicker.isDisabledDate(o)}]])},e.toDisplayString(o.format("DD")),3)],8,Ne)])):e.createCommentVNode("",!0)]))),256))])]),e.createElementVNode("button",{type:"button",onClick:a[3]||(a[3]=o=>t.calendarView.addMonth()),class:"w-10 h-10 hover:bg-gray-100 rounded-full flex items-center justify-center"},je)])}const le=W(xe,[["render",Le]]),Te={name:"Calendar",props:{date:Object},components:{YearsCalendar:ie,MonthsCalendar:oe,DatesCalendar:le},setup(n){const{calendar:a}=De(),r=e.ref("dates"),t=e.computed(()=>a.value.monthView.date(n.date)),d=e.ref(n.date);e.provide("date",d),e.provide("monthDays",t);const b=o=>{r.value=o};return e.watch(()=>n.date,(o,f)=>{d.value=o}),{displayView:r,changeView:b}}},Re={class:"w-full"};function Ie(n,a,r,t,d,b){const o=e.resolveComponent("YearsCalendar"),f=e.resolveComponent("MonthsCalendar"),k=e.resolveComponent("DatesCalendar");return e.openBlock(),e.createElementBlock("div",Re,[e.withDirectives(e.createVNode(o,{onChangeView:t.changeView},null,8,["onChangeView"]),[[e.vShow,t.displayView==="years"]]),e.withDirectives(e.createVNode(f,{onChangeView:t.changeView},null,8,["onChangeView"]),[[e.vShow,t.displayView==="months"]]),e.withDirectives(e.createVNode(k,{onChangeView:t.changeView},null,8,["onChangeView"]),[[e.vShow,t.displayView==="dates"]])])}const ce=W(Te,[["render",Ie]]);class He{constructor(a,r,t,d){v(this,"modelValue");v(this,"selectedDate");v(this,"selectedEndDate");v(this,"isRange");v(this,"keepOpen");v(this,"format");v(this,"disableDatesBefore");v(this,"disableDatesAfter");v(this,"disableDates");v(this,"enableDatesBefore");v(this,"enableDatesAfter");v(this,"enableDates");v(this,"startYear");v(this,"endYear");this.modelValue=e.ref(null),this.selectedDate=e.ref(null),this.selectedEndDate=e.ref(null),this.keepOpen=d,this.isRange=t,this.format=r,this.disableDatesBefore=null,this.disableDatesAfter=null,this.disableDates=null,this.enableDatesBefore=null,this.enableDatesAfter=null,this.enableDates=null,this.startYear=parseInt(y().subtract(100,"years").format("YYYY")),this.endYear=parseInt(y().add(5,"years").format("YYYY")),e.watch(()=>this.selectedDate.value,(b,o)=>{this.getValue()}),e.watch(()=>this.selectedEndDate.value,(b,o)=>{this.getValue()}),this.setDates(a)}setDates(a){if(a){if(typeof a=="string"){this.selectedDate.value=y(a);return}typeof a=="object"&&this.isRange&&(this.selectedDate.value=y(a[0]),a.length>1&&(this.selectedEndDate.value=y(a[1])))}}selectDate(a){if(!this.isDisabledDate(a)){if(!this.isRange){this.selectedDate.value=a;return}if(this.selectedDate.value&&this.selectedEndDate.value){this.selectedDate.value=a,this.selectedEndDate.value=null;return}if(!this.selectedDate.value||a.diff(this.selectedDate.value,"day")<0){this.selectedDate.value=a;return}a.diff(this.selectedDate.value,"day")>0&&(this.selectedEndDate.value=a)}}ableToClose(){return!!(!this.keepOpen&&(this.isRange&&this.selectedDate.value&&this.selectedEndDate.value||!this.isRange))}getValue(){if(!this.isRange&&this.selectedDate.value){this.modelValue.value=this.selectedDate.value.format(this.format);return}(this.selectedDate.value||this.selectedEndDate.value)&&(this.modelValue.value=[this.selectedDate.value?this.selectedDate.value.format(this.format):null,this.selectedEndDate.value?this.selectedEndDate.value.format(this.format):null])}isDisabledDate(a){let r=!1;return this.disableDatesBefore&&(r=a.format("YYYYMMDD")<this.disableDatesBefore.format("YYYYMMDD")),this.disableDatesAfter&&(r=a.format("YYYYMMDD")>this.disableDatesAfter.format("YYYYMMDD")),this.disableDates&&(r=this.disableDates.filter(t=>t.constructor.name==="Array"?t.length===2?a.format("YYYYMMDD")>=t[0].format("YYYYMMDD")&&a.format("YYYYMMDD")<=t[1].format("YYYYMMDD"):!1:t.format("YYYYMMDD")===a.format("YYYYMMDD")).length>0),this.enableDatesBefore&&(r=a.format("YYYYMMDD")>this.enableDatesBefore.format("YYYYMMDD")),this.enableDatesAfter&&(r=a.format("YYYYMMDD")<this.enableDatesAfter.format("YYYYMMDD")),this.enableDates&&(r=this.enableDates.filter(t=>t.constructor.name==="Array"?t.length===2?a.format("YYYYMMDD")>=t[0].format("YYYYMMDD")&&a.format("YYYYMMDD")<=t[1].format("YYYYMMDD"):!1:t.format("YYYYMMDD")===a.format("YYYYMMDD")).length===0),r}setDisableDatesBefore(a){if(typeof a=="string"){this.disableDatesBefore=y(a);return}this.disableDatesBefore=a}setDisableDatesAfter(a){if(typeof a=="string"){this.disableDatesAfter=y(a);return}this.disableDatesAfter=a}setDisableDates(a){this.disableDates=a.map(r=>typeof r=="string"?y(r):r.constructor.name==="Array"?r.map(t=>typeof t=="string"?y(t):t):r)}setEnableDatesBefore(a){if(typeof a=="string"){this.enableDatesBefore=y(a);return}this.enableDatesBefore=a}setEnableDatesAfter(a){if(typeof a=="string"){this.enableDatesAfter=y(a);return}this.enableDatesAfter=a}setEnableDates(a){this.enableDates=a.map(r=>typeof r=="string"?y(r):r.constructor.name==="Array"?r.map(t=>typeof t=="string"?y(t):t):r)}setStartYear(a){this.startYear=a}setEndYear(a){this.endYear=a}}const Ke="";y.extend(he),y.extend(ue),y.extend(me);const ze={name:"AtticDatepicker",props:{modelValue:Object,endDate:String,format:{type:String,default:"DD MMM YYYY"},trigger:{type:String,default:null},showXMonths:Number,isRange:Boolean,keepOpen:Boolean,calendarClass:String,disableDatesBefore:String|y.Dayjs|null,disableDatesAfter:String|y.Dayjs|null,disableDates:Array|null,enableDatesBefore:String|y.Dayjs|null,enableDatesAfter:String|y.Dayjs|null,enableDates:Array|null,startYear:Number,endYear:Number},components:{Calendar:ce,YearsCalendar:ie,MonthsCalendar:oe,DatesCalendar:le},directives:{attic:{mounted:(n,a)=>{te(a)},updated:(n,a)=>{te(a)}}},watch:{disableDatesBefore(n){this.atticDatepicker.setDisableDatesBefore(n)},disableDatesAfter(n){this.atticDatepicker.setDisableDatesAfter(n)},disableDates(n){this.atticDatepicker.setDisableDates(n)},enableDatesBefore(n){this.atticDatepicker.setEnableDatesBefore(n)},enableDatesAfter(n){this.atticDatepicker.setEnableDatesAfter(n)},enableDates(n){this.atticDatepicker.setEnableDates(n)}},setup(n,{emit:a}){const r=e.ref(!1),t=new He(n.modelValue,n.format,n.isRange||n.isRange==="true",typeof n.keepOpen=="string"?n.keepOpen!=="false":n.keepOpen);n.disableDatesBefore&&t.setDisableDatesBefore(n.disableDatesBefore),n.disableDatesAfter&&t.setDisableDatesAfter(n.disableDatesAfter),n.disableDates&&t.setDisableDates(n.disableDates),n.enableDatesBefore&&t.setEnableDatesBefore(n.enableDatesBefore),n.enableDatesAfter&&t.setEnableDatesAfter(n.enableDatesAfter),n.enableDates&&t.setEnableDates(n.enableDates),n.startYear&&t.setStartYear(parseInt(n.startYear)),n.endYear&&t.setEndYear(parseInt(n.endYear));const d=e.computed(()=>{const o=e.ref(t.selectedDate.value??y()),f=()=>{o.value=o.value.subtract(1,"month")},k=()=>{o.value=o.value.add(1,"month")};return e.watch(()=>t.selectedDate.value,(_,B)=>{o.value=_}),{subtractMonth:f,addMonth:k,date:o}}),b=()=>{t.modelValue.value=n.isRange?[]:null,t.selectedDate.value=null,t.selectedEndDate.value=null,r.value=!1};return e.watch(()=>t.modelValue.value,(o,f)=>{a("update:modelValue",o)}),e.provide("atticDatepicker",t),e.provide("showCalendar",r),e.provide("calendarView",d),e.provide("showXMonths",n.showXMonths),{clearDate:b,atticDatepicker:t,showCalendar:r,calendarView:d,dayjs:y}}},We={class:"md:space-y-2"},Fe={key:0},Ue={key:1},Je={key:2,class:"text-gray-400 select-none"},Xe={class:"md:flex md:items-start md:space-x-3 md:space-y-0 space-y-8"};function Ze(n,a,r,t,d,b){const o=e.resolveComponent("Calendar"),f=e.resolveDirective("attic");return e.withDirectives((e.openBlock(),e.createElementBlock("div",We,[e.renderSlot(n.$slots,"default",{value:t.atticDatepicker.modelValue.value,placeholder:n.$attrs.placeholder,clear:t.clearDate},()=>[e.createElementVNode("div",e.mergeProps({class:"relative block w-full pl-3 pr-12 py-3 rounded-lg overflow-hidden text-sm transition-colors bg-white border focus:ring focus:outline-none shadow"},n.$attrs),[!r.isRange&&t.atticDatepicker.selectedDate.value?(e.openBlock(),e.createElementBlock("span",Fe,e.toDisplayString(t.atticDatepicker.modelValue.value),1)):r.isRange&&t.atticDatepicker.modelValue.value&&t.atticDatepicker.modelValue.value.length>1?(e.openBlock(),e.createElementBlock("span",Ue,e.toDisplayString(t.atticDatepicker.modelValue.value[0])+" ~ "+e.toDisplayString(t.atticDatepicker.modelValue.value[1]),1)):(e.openBlock(),e.createElementBlock("span",Je,e.toDisplayString(n.$attrs.placeholder??"Select Date"),1))],16)]),e.createVNode(e.Transition,{"enter-from-class":"opacity-0 translate-y-3","enter-to-class":"opacity-100 translate-y-0","enter-active-class":"transform transition ease-out duration-200","leave-active-class":"transform transition ease-in duration-150","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-3"},{default:e.withCtx(()=>[t.showCalendar?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(r.calendarClass??"attic-datepicker-calendar place-left md:absolute fixed bg-white md:rounded-[28px] border py-5 px-6 md:shadow-xl z-[99] md:top-auto md:right-auto md:h-auto md:w-auto md:space-y-0 top-0 right-0 h-full w-full space-y-8 select-none")},[e.createElementVNode("div",Xe,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(parseInt(r.showXMonths??1),k=>(e.openBlock(),e.createBlock(o,{date:t.calendarView.date.value.add(k-1,"month")},null,8,["date"]))),256))]),e.createElementVNode("button",{type:"button",class:"sm:hidden w-full bg-red-500 rounded text-white font-bold p-3",onClick:a[0]||(a[0]=k=>t.showCalendar=!1)}," Close ")],2)):e.createCommentVNode("",!0)]),_:1})])),[[f,r.trigger,"away"]])}const de=W(ze,[["render",Ze]]);return Object.assign(de,{install:n=>{n.component("AtticDatepicker",de)}},{Calendar:ce})});
